{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2025-06-27 19:21:15.123456",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Quality Inspection",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 0,
 "html": "<div style=\"font-family:'Georgia',serif;max-width:800px;margin:auto;border:1px solid #444;border-radius:12px;padding:32px;color:#333;\">\n  <!-- header -->\n  <table style=\"width:100%;border:0;margin-bottom:20px;\">\n    <tr>\n      <td style=\"width:80px;\"><img src=\"/files/logo.png\" style=\"height:72px;\"></td>\n      <td style=\"text-align:center;\">\n        <h2 style=\"margin:0;font-size:2.2rem;font-weight:normal;\">Quality Control Certificate</h2>\n        <div style=\"font-size:1.1rem;color:#666;\">{{ doc.inspection_type or 'Final Inspection' }}</div>\n      </td>\n      <td style=\"width:150px;text-align:right;font-size:0.9rem;color:#555;\">\n        <b>Certificate #:</b> {{ doc.name }}<br>\n        <b>Date:</b> {{ doc.get_formatted('inspection_date') }}<br>\n        <b>Inspector:</b> {{ doc.owner or 'N/A' }}\n      </td>\n    </tr>\n  </table>\n  <hr style=\"border:0;border-top:1px solid #ddd;margin:20px 0;\">\n\n  <!-- instrument / customer -->\n  <table style=\"width:100%;border:0;font-size:1.1rem;\">\n    <tr>\n      <td><b>Instrument Details</b><br>\n        <div style=\"padding-left:15px;\">Make: {{ doc.instrument_make or 'N/A' }}<br>Model: {{ doc.instrument_model or 'N/A' }}<br>Serial #: {{ doc.serial_no or 'N/A' }}</div>\n      </td>\n      <td><b>Client</b><br><div style=\"padding-left:15px;\">{{ doc.customer_name or 'For Inventory' }}</div></td>\n    </tr>\n  </table>\n\n  <!-- status / attachments -->\n  <div style=\"background:#f9f9f9;padding:12px;border-radius:8px;margin:20px 0;font-size:0.95rem;\">\n    <b>Status:</b> {{ doc.status }}\n    {% if doc.qc_certificate %}<br><b>Certificate File:</b> <a href=\"{{ doc.qc_certificate }}\">Download PDF</a>{% endif %}\n    {% if doc.non_conformance_report %}<br><b>Non-Conformance Report:</b> <a href=\"/app/non-conformance-report/{{ doc.non_conformance_report }}\">View NCR</a>{% endif %}\n  </div>\n\n  <!-- main + sub-procedure table -->\n  <h3 style=\"font-weight:normal;border-bottom:1px solid #eee;padding-bottom:5px;margin-top:30px;\">Inspection Checklist (incl. sub-procedures)</h3>\n  <table style=\"width:100%;border-collapse:collapse;font-size:0.95rem;\">\n    <thead>\n      <tr style=\"background:#f1f1f1;font-weight:bold;\">\n        <th style=\"padding:10px;text-align:left;\">Seq</th>\n        <th style=\"padding:10px;text-align:left;\">Step / Sub-Procedure</th>\n        <th style=\"padding:10px;text-align:left;\">Result</th>\n        <th style=\"padding:10px;text-align:center;\">Media</th>\n      </tr>\n    </thead>\n    <tbody>\n      {# v15 stores rows in process_details; fallback to inspection_checklist #}\n      {% set rows = doc.process_details or doc.inspection_checklist %}\n      {% for r in rows %}\n        <tr style=\"border-bottom:1px solid #eee;\">\n          <td style=\"padding:10px;\">{{ r.sequence_id or loop.index }}</td>\n          <td style=\"padding:10px;\">\n            <div>{{ r.parameter or r.area }}</div>\n            {% if r.sub_procedure %}\n              <div style=\"margin-top:4px;padding-left:15px;font-size:0.85rem;color:#555;\">\n                \u21b3 Sub-procedure: <b>{{ r.sub_procedure }}</b>\n                {% if r.sub_process_results %}\n                  <ul style=\"margin:4px 0 0 15px;list-style-type:square;\">\n                    {% for sp in r.sub_process_results %}\n                      <li>{% if sp.pass_fail == 'Pass' %}<span style=\"color:#007f3c\">\u2714</span>{% else %}<span style=\"color:#c41e24\">\u2716</span>{% endif %} {{ sp.parameter }} \u2013 {{ sp.pass_fail }}</li>\n                    {% endfor %}\n                  </ul>\n                {% endif %}\n              </div>\n            {% endif %}\n          </td>\n          <td style=\"padding:10px;\">{% if r.pass_fail == 'Pass' %}<span style=\"color:#007f3c;font-weight:bold;\">Pass{% else %}<span style=\"color:#c41e24;font-weight:bold;\">Fail{% endif %}</span></td>\n          <td style=\"padding:10px;text-align:center;\">\n            {% if r.photo %}\n              <a href=\"{{ r.photo }}\" target=\"_blank\"><img src=\"{{ r.photo }}\" style=\"height:40px;border:1px solid #ccc;border-radius:4px;\"></a>\n            {% elif r.photos %}\n              {% for p in r.photos.split(',')[:2] %}\n                <a href=\"{{ p }}\" target=\"_blank\"><img src=\"{{ p }}\" style=\"height:40px;border:1px solid #ccc;border-radius:4px;margin-right:4px;\"></a>\n              {% endfor %}\n            {% else %}-{% endif %}\n          </td>\n        </tr>\n      {% endfor %}\n    </tbody>\n  </table>\n\n  <!-- findings -->\n  {% if doc.inspection_findings %}\n    <h3 style=\"font-weight:normal;border-bottom:1px solid #eee;padding-bottom:5px;margin-top:30px;\">Findings &amp; Notes</h3>\n    <ul style=\"padding-left:20px;\">\n      {% for f in doc.inspection_findings %}\n        <li><b>{{ f.area or f.parameter }}:</b> {{ f.observation }}{% if f.severity %} (Severity: {{ f.severity }}){% endif %}</li>\n      {% endfor %}\n    </ul>\n  {% endif %}\n\n  <!-- footer -->\n  <div style=\"text-align:center;margin-top:30px;border-top:1px solid #ddd;padding-top:20px;\">\n    <div style=\"font-size:1.3rem;font-weight:bold;\">Final Outcome: {% if doc.status == 'Passed' %}<span style=\"color:#007f3c\">PASSED{% else %}<span style=\"color:#c41e24\">FAILED{% endif %}</span></div>\n    <div style=\"margin-top:15px;font-size:0.9rem;color:#555;\">This certificate is valid for 100 hours of play or 6 months (whichever comes first). Please contact us for your complimentary post-sale check-up.</div>\n  </div>\n</div>",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 0.0,
 "margin_left": 0.0,
 "margin_right": 0.0,
 "margin_top": 0.0,
 "modified": "2025-07-02 02:25:59.539174",
 "modified_by": "dylan@artisanclarinets.com",
 "module": "QA",
 "name": "QC Certificate",
 "owner": "administrator",
 "pdf_generator": "wkhtmltopdf",
 "print_format_builder": 0,
 "print_format_builder_beta": 1,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}