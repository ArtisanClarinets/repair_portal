{% extends "templates/web.html" %}
{% block title %}Pad Map Inspection{% endblock %}
{% block page_content %}
<h2>Clarinet Pad Map Inspection</h2>
<div id="pad-map-wrapper">{{ svg_content | safe }}</div>
<script>
  const pad_data = {{ pad_data | tojson | safe }};
  const color_map = {
    'OK': 'green',
    'Leaking': 'orange',
    'Replaced': 'red',
    'Adjusted': 'blue',
    'Requires Shim': 'purple'
  };
  document.addEventListener('DOMContentLoaded', () => {
    pad_data.forEach(pad => {
      let el = document.getElementById(pad.pad_id);
      if (el) {
        el.style.fill = color_map[pad.status] || 'gray';
        let title = document.createElementNS('http://www.w3.org/2000/svg', 'title');
        title.textContent = `${pad.pad_name}\nStatus: ${pad.status}`;
        el.appendChild(title);
      }
    });
  });
</script>
{% endblock %}
