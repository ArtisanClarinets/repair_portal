{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2025-08-25 17:46:51.103727",
 "css": "/* --- Repair Quotation Pro \u2014 Fortune 500 look --- */\n.rq-wrapper{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto; font-size:12px; color:#111;}\n.rq-header{display:flex; justify-content:space-between; gap:16px; border-bottom:1px solid #e5e7eb; padding-bottom:10px; margin-bottom:12px;}\n.rq-title{font-size:22px; font-weight:700; letter-spacing:0.2px;}\n.rq-subtitle{font-size:12px; color:#6b7280; margin-top:2px;}\n.rq-meta{margin-top:6px; display:grid; grid-template-columns:auto auto; gap:6px 16px;}\n.rq-meta span{color:#6b7280;}\n.rq-company{text-align:right;}\n.rq-company-name{font-weight:600;}\n.section-label{font-weight:600; text-transform:uppercase; font-size:10px; letter-spacing:0.6px; color:#6b7280; margin-bottom:4px;}\n.rq-to-instrument{display:grid; grid-template-columns:1fr 1fr; gap:16px; margin:12px 0 6px;}\n.rq-notes{display:grid; grid-template-columns:1fr 1fr; gap:12px; margin:6px 0 10px;}\n.rq-note{background:#fafafa; border:1px solid #eee; border-radius:8px; padding:8px 10px;}\n.rq-items .table-title{font-weight:600; margin:10px 0 4px;}\n.rq-items .mt{margin-top:14px;}\n.rq-table{width:100%; border-collapse:separate; border-spacing:0;}\n.rq-table thead th{background:#f9fafb; border-top:1px solid #e5e7eb; border-bottom:1px solid #e5e7eb; padding:8px 8px; font-weight:600; text-align:left;}\n.rq-table tbody td{border-bottom:1px solid #f1f5f9; padding:8px 8px; vertical-align:top;}\n.col-item{width:18%;}\n.col-desc{width:42%;}\n.col-qty{width:8%; text-align:right;}\n.col-uom{width:8%;}\n.col-hours{width:10%; text-align:right;}\n.col-rate{width:12%; text-align:right;}\n.col-amt{width:12%; text-align:right;}\n.desc-main{font-weight:500;}\n.desc-notes{color:#6b7280; font-size:11px; margin-top:2px;}\n.rq-totals{display:flex; justify-content:flex-end; margin:12px 0;}\n.totals-table{min-width:320px; border-collapse:separate; border-spacing:0;}\n.totals-table td{padding:6px 8px;}\n.totals-table .label{color:#374151;}\n.totals-table .value{text-align:right; font-weight:600;}\n.totals-table tr.grand td{border-top:1px solid #e5e7eb; font-size:13px; padding-top:10px;}\n.totals-table tr.inwords td{padding-top:4px; color:#6b7280; font-weight:500;}\n.rq-terms{margin:10px 0 8px;}\n.terms-body{white-space:pre-wrap;}\n.rq-accept{margin:14px 0 8px;}\n.accept-grid{display:grid; grid-template-columns:1fr 1fr; gap:18px;}\n.sig-line{height:30px; border-bottom:1px solid #d1d5db; margin:8px 0;}\n.sig-meta{display:flex; justify-content:space-between; font-size:11px; color:#6b7280;}\n.accept-badge{margin-top:8px; display:inline-block; padding:4px 8px; border:1px solid #10b981; color:#065f46; background:#ecfdf5; border-radius:6px; font-size:11px;}\n.rq-footer{margin-top:14px; border-top:1px solid #e5e7eb; padding-top:8px; color:#6b7280; display:flex; justify-content:space-between; font-size:11px;}\n@media print{.rq-wrapper{font-size:11px;} .rq-title{font-size:18px;} .rq-table thead th{background:#f3f4f6 !important;} .accept-badge{border-color:#000;color:#000;background:#fff;}}\n",
 "custom_format": 0,
 "disabled": 0,
 "doc_type": "Repair Quotation",
 "docstatus": 0,
 "doctype": "Print Format",
 "font": "",
 "font_size": 0,
 "html": "{% set currency = doc.currency or frappe.db.get_default('currency') %}\n{% macro money(val) -%}\n  {{ frappe.format_value(val or 0, {'fieldtype': 'Currency', 'options': currency}) }}\n{%- endmacro %}\n\n{{ letter_head or '' }}\n\n<div class=\"rq-wrapper\">\n  <header class=\"rq-header\">\n    <div class=\"rq-identity\">\n      <div class=\"rq-title\">Repair Quotation</div>\n      <div class=\"rq-subtitle\">Quotation #: <strong>{{ doc.name }}</strong></div>\n      <div class=\"rq-meta\">\n        <div><span>Quotation Date:</span> {{ frappe.format_value(doc.quotation_date, {'fieldtype':'Date'}) }}</div>\n        {% if doc.valid_till %}<div><span>Valid Till:</span> {{ frappe.format_value(doc.valid_till, {'fieldtype':'Date'}) }}</div>{% endif %}\n        <div><span>Status:</span> {{ doc.status or 'Draft' }}</div>\n      </div>\n    </div>\n    <div class=\"rq-company\">\n      <div class=\"rq-company-name\">{{ doc.company }}</div>\n      {% set company = frappe.get_doc('Company', doc.company) if doc.company else None %}\n      {% if company and company.website %}<div>{{ company.website }}</div>{% endif %}\n      {% if company and company.email %}<div>{{ company.email }}</div>{% endif %}\n      {% if company and company.phone_no %}<div>{{ company.phone_no }}</div>{% endif %}\n    </div>\n  </header>\n\n  <section class=\"rq-to-instrument\">\n    <div class=\"rq-to\">\n      <div class=\"section-label\">Bill To</div>\n      <div class=\"to-name\">{{ doc.customer }}</div>\n      {% if doc.contact %}<div>Contact: {{ doc.contact }}</div>{% endif %}\n      {% if doc.contact_email %}<div>Email: {{ doc.contact_email }}</div>{% endif %}\n      {% if doc.contact_phone %}<div>Phone: {{ doc.contact_phone }}</div>{% endif %}\n    </div>\n    <div class=\"rq-instrument\">\n      <div class=\"section-label\">Instrument</div>\n      {% if doc.instrument_type %}<div><span>Type:</span> {{ doc.instrument_type }}</div>{% endif %}\n      {% if doc.brand %}<div><span>Brand:</span> {{ doc.brand }}</div>{% endif %}\n      {% if doc.model %}<div><span>Model:</span> {{ doc.model }}</div>{% endif %}\n      {% if doc.serial_no %}<div><span>Serial No.:</span> {{ doc.serial_no }}</div>{% endif %}\n      {% if doc.bore_diameter_mm %}<div><span>Bore \u00d8 (mm):</span> {{ frappe.format_value(doc.bore_diameter_mm, {'fieldtype':'Float', 'precision': 2}) }}</div>{% endif %}\n    </div>\n  </section>\n\n  {% if doc.condition_notes or doc.setup_notes %}\n  <section class=\"rq-notes\">\n    {% if doc.condition_notes %}\n      <div class=\"rq-note\">\n        <div class=\"note-label\">Condition Notes</div>\n        <div class=\"note-body\">{{ doc.condition_notes | nl2br }}</div>\n      </div>\n    {% endif %}\n    {% if doc.setup_notes %}\n      <div class=\"rq-note\">\n        <div class=\"note-label\">Setup Notes</div>\n        <div class=\"note-body\">{{ doc.setup_notes | nl2br }}</div>\n      </div>\n    {% endif %}\n  </section>\n  {% endif %}\n\n  <section class=\"rq-items\">\n    {% set has_labor = doc.items | selectattr('item_type', 'equalto', 'Labor') | list | length %}\n    {% set has_parts = (doc.items | rejectattr('item_type', 'equalto', 'Labor') | list | length) %}\n\n    {% if has_labor %}\n      <div class=\"table-title\">Labor</div>\n      <table class=\"rq-table\">\n        <thead>\n          <tr>\n            <th class=\"col-desc\">Description</th>\n            <th class=\"col-qty\">Qty</th>\n            <th class=\"col-uom\">UOM</th>\n            <th class=\"col-hours\">Hours</th>\n            <th class=\"col-rate\">Rate</th>\n            <th class=\"col-amt\">Amount</th>\n          </tr>\n        </thead>\n        <tbody>\n          {% for row in doc.items if (row.item_type or '') == 'Labor' %}\n          <tr>\n            <td class=\"col-desc\">\n              <div class=\"desc-main\">{{ row.description or row.item_code or '-' }}</div>\n              {% if row.notes %}<div class=\"desc-notes\">{{ row.notes }}</div>{% endif %}\n            </td>\n            <td class=\"col-qty\">{{ frappe.format_value(row.qty, {'fieldtype':'Float'}) }}</td>\n            <td class=\"col-uom\">{{ row.uom or '' }}</td>\n            <td class=\"col-hours\">{{ frappe.format_value(row.hours, {'fieldtype':'Float'}) }}</td>\n            <td class=\"col-rate\">{{ money(row.rate) }}</td>\n            <td class=\"col-amt\">{{ money(row.amount) }}</td>\n          </tr>\n          {% endfor %}\n        </tbody>\n      </table>\n    {% endif %}\n\n    {% if has_parts %}\n      <div class=\"table-title mt\">Parts / Materials</div>\n      <table class=\"rq-table\">\n        <thead>\n          <tr>\n            <th class=\"col-item\">Item</th>\n            <th class=\"col-desc\">Description</th>\n            <th class=\"col-qty\">Qty</th>\n            <th class=\"col-uom\">UOM</th>\n            <th class=\"col-rate\">Rate</th>\n            <th class=\"col-amt\">Amount</th>\n          </tr>\n        </thead>\n        <tbody>\n          {% for row in doc.items if (row.item_type or '') != 'Labor' %}\n          <tr>\n            <td class=\"col-item\">{{ row.item_code or '-' }}</td>\n            <td class=\"col-desc\">\n              <div class=\"desc-main\">{{ row.description or '-' }}</div>\n              {% if row.notes %}<div class=\"desc-notes\">{{ row.notes }}</div>{% endif %}\n            </td>\n            <td class=\"col-qty\">{{ frappe.format_value(row.qty, {'fieldtype':'Float'}) }}</td>\n            <td class=\"col-uom\">{{ row.uom or '' }}</td>\n            <td class=\"col-rate\">{{ money(row.rate) }}</td>\n            <td class=\"col-amt\">{{ money(row.amount) }}</td>\n          </tr>\n          {% endfor %}\n        </tbody>\n      </table>\n    {% endif %}\n  </section>\n\n  <section class=\"rq-totals\">\n    <table class=\"totals-table\">\n      <tbody>\n        <tr>\n          <td class=\"label\">Total Labor</td>\n          <td class=\"value\">{{ money(doc.total_labor) }}</td>\n        </tr>\n        <tr>\n          <td class=\"label\">Total Parts</td>\n          <td class=\"value\">{{ money(doc.total_parts) }}</td>\n        </tr>\n        <tr>\n          <td class=\"label\">Subtotal</td>\n          <td class=\"value\">{{ money(doc.subtotal) }}</td>\n        </tr>\n        {% if (doc.discount_amount or 0) %}\n        <tr>\n          <td class=\"label\">Discount{% if doc.discount_type == 'Percentage' %} ({{ frappe.format_value(doc.discount_percent, {'fieldtype':'Float'}) }}%){% endif %}</td>\n          <td class=\"value\">- {{ money(doc.discount_amount) }}</td>\n        </tr>\n        {% endif %}\n        {% if (doc.tax_rate or 0) %}\n        <tr>\n          <td class=\"label\">Tax ({{ frappe.format_value(doc.tax_rate, {'fieldtype':'Float'}) }}%)</td>\n          <td class=\"value\">{{ money(doc.tax_amount) }}</td>\n        </tr>\n        {% endif %}\n        <tr class=\"grand\">\n          <td class=\"label\">Grand Total</td>\n          <td class=\"value\">{{ money(doc.grand_total) }}</td>\n        </tr>\n        <tr class=\"inwords\">\n          <td class=\"label\">Amount in Words</td>\n          <td class=\"value\">{{ frappe.utils.money_in_words(doc.grand_total, currency) }}</td>\n        </tr>\n      </tbody>\n    </table>\n  </section>\n\n  {% if doc.terms %}\n  <section class=\"rq-terms\">\n    <div class=\"section-label\">Terms</div>\n    <div class=\"terms-body\">{{ doc.terms | nl2br }}</div>\n  </section>\n  {% endif %}\n\n  <section class=\"rq-accept\">\n    <div class=\"accept-grid\">\n      <div>\n        <div class=\"section-label\">Prepared By</div>\n        <div class=\"sig-line\"></div>\n        <div class=\"sig-meta\">\n          <div>{{ doc.owner_signature or frappe.session.user }}</div>\n          <div>Date: {{ frappe.utils.formatdate(frappe.utils.nowdate()) }}</div>\n        </div>\n      </div>\n      <div>\n        <div class=\"section-label\">Customer Approval</div>\n        <div class=\"sig-line\"></div>\n        <div class=\"sig-meta\">\n          <div>Name / Signature</div>\n          <div>Date: ____ / ____ / ______</div>\n        </div>\n      </div>\n    </div>\n    {% if doc.status == 'Accepted' %}\n    <div class=\"accept-badge\">Accepted on {{ frappe.format_value(doc.accepted_on, {'fieldtype':'Datetime'}) }}{% if doc.accepted_by %} by {{ doc.accepted_by }}{% endif %}</div>\n    {% endif %}\n  </section>\n\n  <footer class=\"rq-footer\">\n    <div>Thank you for choosing {{ doc.company }} for professional clarinet repair.</div>\n    <div class=\"foot-meta\">Quotation {{ doc.name }} \u2022 {{ frappe.utils.get_url_to_form(doc.doctype, doc.name) }}</div>\n  </footer>\n\n  {{ letter_footer or '' }}\n</div>\n",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 0.0,
 "margin_left": 0.0,
 "margin_right": 0.0,
 "margin_top": 0.0,
 "modified": "2025-08-25 17:47:17.872672",
 "modified_by": "Administrator",
 "module": "Repair",
 "name": "Repair Quotation Pro",
 "owner": "Administrator",
 "print_designer": "Yes",
 "print_designer_template_app": "print_designer",
 "print_format_builder": 1,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}