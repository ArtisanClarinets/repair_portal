{
  "doctype": "DocType",
  "name": "Instrument Intake Form",
  "module": "Intake",
  "autoname": "INTAKE-.YYYY.-.#####",
  "custom": 0,
  "track_changes": 1,
  "is_submittable": 1,
  "fields": [
    {"fieldname": "customer", "fieldtype": "Link", "label": "Customer", "options": "Customer", "reqd": 1},
    {"fieldname": "contact_person", "fieldtype": "Link", "label": "Contact Person", "options": "Contact"},
    {"fieldname": "instrument", "fieldtype": "Link", "label": "Instrument", "options": "Item", "reqd": 1},
    {"fieldname": "repair_type", "fieldtype": "Select", "label": "Repair Type", "options": "Basic\nOverhaul\nCrack Repair\nWarranty\nEvaluation", "reqd": 1},
    {"fieldname": "priority", "fieldtype": "Select", "label": "Priority", "options": "Low\nNormal\nUrgent"},
    {"fieldname": "desired_completion_date", "fieldtype": "Date", "label": "Desired Completion Date"},
    {"fieldname": "drop_off_method", "fieldtype": "Select", "label": "Drop-Off Method", "options": "In-Person\nMail-In\nPickup"},
    {"fieldname": "initial_description", "fieldtype": "Small Text", "label": "Initial Problem Description"},
    {"fieldname": "intake_checklist", "fieldtype": "Table", "label": "Checklist", "options": "Intake Checklist Item"},
    {"fieldname": "initial_condition_images", "fieldtype": "Attach Image", "label": "Initial Condition Images", "allow_multiple": 1},
    {"fieldname": "terms_accepted", "fieldtype": "Check", "label": "Customer Agreed to Terms", "reqd": 1},
    {"fieldname": "signature", "fieldtype": "Attach", "label": "Signature", "reqd": 1},
    {"fieldname": "intake_received_by", "fieldtype": "Link", "label": "Received By", "options": "User"},
    {"fieldname": "intake_datetime", "fieldtype": "Datetime", "label": "Intake Date/Time", "default": "now"},
    {"fieldname": "status", "fieldtype": "Select", "label": "Status", "options": "Draft\nReceived\nEscalated", "default": "Draft"}
  ],
  "permissions": [
    {"role": "System Manager", "read": 1, "write": 1, "create": 1, "delete": 1},
    {"role": "Workshop Manager", "read": 1, "write": 1, "create": 1},
    {"role": "Technician", "read": 1},
    {"role": "Customer", "read": 1, "create": 1, "if_owner": 1}
  ]
}