{
  "name": "Instrument Profile",
  "module": "Instrument Profile",
  "doctype": "DocType",
  "fields": [
    { "fieldname": "linked_intake", "label": "Last Intake", "fieldtype": "Link", "options": "Clarinet Intake", "in_list_view": 1 },
    { "fieldname": "linked_initial_setup", "label": "Last Initial Setup", "fieldtype": "Link", "options": "Clarinet Initial Setup", "in_list_view": 1 },
    { "fieldname": "serial_no", "label": "Serial Number", "fieldtype": "Data", "reqd": 1, "unique": 1 },
    { "fieldname": "serial_no", "label": "Serial Number", "fieldtype": "Link", "options": "Serial No", "read_only": 1, "hidden": 1, "depends_on": "eval:frappe.user.has_role('System Manager') || frappe.user.has_role('Technician')" },

    { "fieldname": "repair_logs", "label": "Repair Logs", "fieldtype": "Table", "options": "Repair Log", "read_only": 1 },
    { "fieldname": "inspection_results", "label": "Inspection Results", "fieldtype": "Table", "options": "Initial Intake Inspection", "read_only": 1 },
    { "fieldname": "setup_logs", "label": "Setup Logs", "fieldtype": "Table", "options": "Clarinet Setup Log", "read_only": 1 },
    { "fieldname": "qa_findings", "label": "QA Findings", "fieldtype": "Table", "options": "Clarinet Inspection", "read_only": 1 },
    { "fieldname": "condition_logs", "label": "Condition Logs", "fieldtype": "Table", "options": "Instrument Condition Record", "read_only": 1 },
    { "fieldname": "external_work_logs", "label": "External Work Logs", "fieldtype": "Table", "options": "External Work Logs", "read_only": 1 },
    { "fieldname": "warranty_logs", "label": "Warranty Logs", "fieldtype": "Table", "options": "Warranty Modification Log", "read_only": 1 },
    { "fieldname": "material_usage", "label": "Material Usage", "fieldtype": "Table", "options": "Material Use Log", "read_only": 1 },
    { "fieldname": "lab_readings", "label": "Lab Readings", "fieldtype": "Table", "options": "Leak Test", "read_only": 1 },
    { "fieldname": "document_history", "label": "Document History", "fieldtype": "Table", "options": "Instrument Document History", "read_only": 1 },
    { "fieldname": "interaction_logs", "label": "Interaction Logs", "fieldtype": "Table", "options": "Instrument Interaction Log", "read_only": 1 }
  ],
  "permissions": [
    { "role": "System Manager", "read": 1, "write": 1, "create": 1, "delete": 1 },
    { "role": "Technician", "read": 1 }
  ],
  "workflow_state_field": "workflow_state"
}