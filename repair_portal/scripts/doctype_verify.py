import os
import json
import sys

# The complete list of valid DocType names from your bench console output
# Using a set for fast lookups
VALID_DOCTYPES_SET = {
    "Appointment",
    "Print Heading",
    "Instrument Tracker",
    "Player Profile",
    "Instrument Profile",
    "Upgrade Option",
    "Customer Upgrade Request",
    "Tool Calibration Log",
    "Tool",
    "Service Plan",
    "Service Task",
    "Instrument Interaction Log",
    "Tool Usage Log",
    "Clarinet Repair Log",
    "Related Instrument Interaction",
    "Repair Task Log",
    "Instrument Condition Record",
    "Clarinet Setup Log",
    "Material Usage",
    "Setup Template",
    "Setup Checklist Item",
    "Clarinet Initial Setup",
    "Clarinet Inspection",
    "Clarinet Setup Operation",
    "Inspection Finding",
    "Clarinet Intake",
    "Customer Consent Form",
    "Loaner Instrument",
    "Loaner Return Check",
    "Intake Checklist Item",
    "Inspection Template",
    "Inspection Checklist Section",
    "Inspection Checklist Item",
    "Clarinet Condition Assessment",
    "Production Plan Sub Assembly Item",
    "Quotation",
    "Subcontracting Receipt Supplied Item",
    "Contract",
    "Asset",
    "System Settings",
    "Buying Settings",
    "Manufacturing Settings",
    "Payment Entry",
    "Contact Us Settings",
    "Asset Category",
    "Selling Settings",
    "Stock Settings",
    "Scheduled Job Type",
    "Accounts Settings",
    "Process Statement Of Accounts",
    "Stock Ledger Entry",
    "Material Request",
    "Purchase Taxes and Charges",
    "POS Profile",
    "Event",
    "Purchase Order",
    "Purchase Receipt",
    "Purchase Invoice",
    "Work Order Operation",
    "Email Account",
    "Workflow Document State",
    "Repost Item Valuation",
    "Workspace Shortcut",
    "Customize Form",
    "DocType",
    "Stock Entry Detail",
    "Workflow Transition",
    "Sales Invoice",
    "Job Card",
    "Item Default",
    "User",
    "Purchase Order Item",
    "SMS Parameter",
    "Purchase Receipt Item",
    "Report",
    "Stock Reconciliation Item",
    "Sales Invoice Item",
    "Purchase Invoice Item",
    "List View Settings",
    "Payment Schedule",
    "Prospect",
    "Asset Capitalization Stock Item",
    "Supplier Quotation",
    "Sales Order",
    "Request for Quotation",
    "Subcontracting Order Item",
    "Sales Order Item",
    "Projects Settings",
    "Webhook Request Log",
    "GL Entry",
    "Deleted Document",
    "View Log",
    "Email Queue",
    "Web Page View",
    "Version",
    "Communication",
    "Shipment",
    "BOM Creator Item",
    "Issue",
    "Packed Item",
    "Serial and Batch Bundle",
    "Pricing Rule",
    "Quality Inspection",
    "Print Format",
    "Employee",
    "Tax Withheld Vouchers",
    "Delivery Note Item",
    "Tag Link",
    "Item",
    "Dashboard Chart",
    "Lead",
    "Number Card",
    "Google Calendar",
    "Process Payment Reconciliation Log Allocations",
    "Auto Repeat",
    "Landed Cost Taxes and Charges",
    "CRM Settings",
    "Serial No",
    "Stock Entry Type",
    "File",
    "Scheduler Event",
    "Payment Entry Reference",
    "Company",
    "Asset Capitalization",
    "Process Payment Reconciliation Log",
    "Process Payment Reconciliation",
    "Web Form",
    "Payment Request",
    "Purchase Invoice Advance",
    "Sales Invoice Advance",
    "Prepared Report",
    "Closing Stock Balance",
    "Asset Finance Book",
    "Quotation Item",
    "Process Statement Of Accounts CC",
    "Competitor",
    "Quotation Lost Reason",
    "Subcontracting Receipt",
    "Subcontracting Receipt Item",
    "Subcontracting Order",
    "Subcontracting Order Service Item",
    "Blanket Order",
    "Email Domain",
    "Production Plan",
    "Country",
    "Item Variant Attribute",
    "Item Attribute",
    "Dunning",
    "POS Invoice",
    "Delivery Note",
    "Work Order Item",
    "Code List",
    "Navbar Item",
    "Newsletter",
    "Common Code",
    "Payment Entry Deduction",
    "Advance Payment Ledger Entry",
    "Bank Account",
    "Payment Reconciliation Payment",
    "Webhook",
    "Unreconcile Payment",
    "DocField",
    "Customize Form Field",
    "Custom Field",
    "Asset Maintenance Log",
    "BOM Creator",
    "Plant Floor",
    "Role",
    "Period Closing Voucher",
    "Workspace Link",
    "Social Login Key",
    "Brand",
    "Opportunity",
    "Account",
    "Warehouse",
    "Pick List",
    "Stock Entry",
    "Asset Value Adjustment",
    "Notification Log",
    "Promotional Scheme Price Discount",
    "Promotional Scheme Product Discount",
    "GoCardless Settings",
    "Journal Entry",
    "User Document Type",
    "Putaway Rule",
    "Inventory Dimension",
    "Notification",
    "Bank Statement Import",
    "Workstation",
    "Customer",
    "Asset Repair",
    "Asset Repair Consumed Item",
    "Department",
    "Language",
    "Repost Accounting Ledger Settings",
    "Repost Payment Ledger",
    "Repost Accounting Ledger",
    "BOM",
    "Production Plan Item",
    "Supplier Quotation Item",
    "Vehicle",
    "Workspace",
    "Fiscal Year",
    "Job Card Time Log",
    "Recorder Suggested Index",
    "Recorder",
    "Recorder Query",
    "Supplier",
    "POS Invoice Item",
    "Pick List Item",
    "PSOA Cost Center",
    "System Health Report",
    "Navbar Settings",
    "Tax Withholding Account",
    "Data Import Log",
    "OAuth Client Role",
    "OAuth Client",
    "Bank Reconciliation Tool",
    "Stock Reposting Settings",
    "Project",
    "Cost Center",
    "Payment Reconciliation",
    "System Health Report Failing Jobs",
    "System Health Report Errors",
    "System Health Report Queue",
    "System Health Report Tables",
    "System Health Report Workers",
    "Lower Deduction Certificate",
    "Web Form Field",
    "Web Page",
    "Letter Head",
    "Ledger Health",
    "Changelog Feed",
    "Server Script",
    "Payment Terms Template",
    "Item Price",
    "Ledger Health Monitor",
    "Ledger Health Monitor Company",
    "Transaction Deletion Record",
    "Currency Exchange Settings",
    "Console Log",
    "Shipment Parcel",
    "Asset Capitalization Service Item",
    "Budget Account",
    "RQ Worker",
    "Push Notification Settings",
    "Landed Cost Purchase Receipt",
    "Material Request Item",
    "Activity Log",
    "Serial and Batch Entry",
    "Blanket Order Item",
    "Material Request Plan Item",
    "Work Order",
    "Stock Reservation Entry",
    "Transaction Deletion Record Details",
    "Journal Entry Account",
    "Auto Email Report",
    "Transaction Deletion Record Item",
    "Data Import",
    "Price List",
    "Blog Settings",
    "Item Group",
    "Monthly Distribution",
    "Sales Person",
    "Product Bundle",
    "Currency",
    "Purchase Taxes and Charges Template",
    "Sales Taxes and Charges Template",
    "Terms and Conditions",
    "Sales Invoice Payment",
    "Bin",
    "Google Settings",
    "Subscription Plan",
    "Sales Taxes and Charges",
    "RQ Job",
    "Permission Inspector",
    "Asset Depreciation Schedule",
    "Task",
    "Top Bar Item",
    "Website Settings",
    "Maintenance Visit Purpose",
    "Allowed To Transact With",
    "BOM Explosion Item",
    "Help Article",
    "Subscription",
    "Cashier Closing",
    "Website Route Redirect",
    "BOM Item",
    "Payment Reconciliation Allocation",
    "Web Template",
    "Email Template",
    "Webhook Header",
    "Note",
    "Page",
    "Contact",
    "Workflow",
    "Error Log",
    "Milestone",
    "Module Def",
    "Google Drive",
    "Review Level",
    "Client Script",
    "Workflow State",
    "Google Contacts",
    "Milestone Tracker",
    "Route History",
    "Bisect Nodes",
    "Bisect Accounting Statements",
    "Notification Settings",
    "Asset Shift Allocation",
    "Asset Shift Factor",
    "Warranty Claim",
    "Depreciation Schedule",
    "Email Group Member",
    "Email Group",
    "Address",
    "Bank Transaction",
    "Payment Reconciliation Invoice",
    "Opportunity Item",
    "Request for Quotation Item",
    "Bulk Transaction Log",
    "Bulk Transaction Log Detail",
    "Batch",
    "Scheduled Job Log",
    "Repost Allowed Types",
    "Payment Ledger Entry",
    "System Console",
    "Workstation Working Hour",
    "Task Depends On",
    "Integration Request",
    "ToDo",
    "Audit Trail",
    "Delivery Trip",
    "Asset Activity",
    "Delivery Stop",
    "GoCardless Mandate",
    "Mpesa Settings",
    "Process Subscription",
    "Authorization Rule",
    "Unreconcile Payment Entries",
    "Subcontracting BOM",
    "Location",
    "Submission Queue",
    "Dashboard",
    "Document Follow",
    "Quality Meeting",
    "Quality Procedure",
    "Quality Goal",
    "Quality Review",
    "Quality Action",
    "Energy Point Log",
    "Workflow Action",
    "List Filter",
    "Calendar View",
    "Kanban Board",
    "Marketing Campaign",
    "Network Printer Settings",
    "User Group",
    "DocType Layout",
    "Module Onboarding",
    "Onboarding Step",
    "Dashboard Settings",
    "Quality Feedback",
    "Service Level Agreement",
    "Reminder",
    "Custom HTML Block",
    "Form Tour",
    "POS Closing Entry",
    "Quality Review Objective",
    "Non Conformance",
    "Quality Goal Objective",
    "Comment",
    "Holiday List",
    "Item Tax Template",
    "Repost Accounting Ledger Items",
    "Global Defaults",
    "Project Update",
    "Asset Movement",
    "Portal User",
    "Exchange Rate Revaluation Account",
    "Item Reorder",
    "Document Naming Settings",
    "Exchange Rate Revaluation",
    "Amended Document Naming Settings",
    "DocShare",
    "Report Filter",
    "Job Card Scheduled Time",
    "Accounting Dimension Filter",
    "Patch Log",
    "Party Account",
    "Installation Note",
    "Maintenance Visit",
    "Maintenance Schedule",
    "Customer Group",
    "Print Settings",
    "Form Tour Step",
    "Workspace Custom Block",
    "Packing Slip",
    "Packing Slip Item",
    "Process Statement Of Accounts Customer",
    "Note Seen By",
    "Document Naming Rule",
    "Timesheet",
    "Workflow Action Master",
    "Shareholder",
    "OAuth Bearer Token",
    "Production Plan Item Reference",
    "Asset Maintenance Task",
    "Maintenance Schedule Item",
    "Dropbox Settings",
    "Installation Note Item",
    "Account Closing Balance",
    "DocPerm",
    "Custom DocPerm",
    "Blog Post",
    "Party Specific Item",
    "Workspace Number Card",
    "Industry Type",
    "Designation",
    "Sales Stage",
    "Sales Partner Type",
    "Lead Source",
    "LDAP Settings",
    "S3 Backup Settings",
    "BOM Scrap Item",
    "Token Cache",
    "Territory",
    "Supplier Group",
    "Homepage",
    "Appointment Booking Settings",
    "Bank Clearance",
    "Role Permission for Page and Report",
    "Incoterm",
    "Workstation Type",
    "Customer Credit Limit",
    "BOM Operation",
    "Repost Payment Ledger Items",
    "Website Theme",
    "Event Participants",
    "Blogger",
    "Blog Category",
    "Budget",
    "Data Export",
    "Item Supplier",
    "Email Queue Recipient",
    "Task Type",
    "Subcontracting Order Supplied Item",
    "Item Barcode",
    "Web Form List Column",
    "Salutation",
    "Gender",
    "DefaultValue",
    "Transaction Log",
    "Success Action",
    "Has Role",
    "User Social Login",
    "Has Domain",
    "Domain Settings",
    "Custom Role",
    "Block Module",
    "OAuth Provider Settings",
    "Webhook Data",
    "Unhandled Email",
    "Email Unsubscribe",
    "Email Rule",
    "Print Style",
    "Bulk Update",
    "Desktop Icon",
    "Company History",
    "About Us Team Member",
    "Help Category",
    "Website Script",
    "Portal Menu Item",
    "Website Slideshow",
    "Website Sidebar",
    "Website Sidebar Item",
    "Website Meta Tag",
    "Address Template",
    "POS Invoice Merge Log",
    "Payment Gateway",
    "Razorpay Settings",
    "PayPal Settings",
    "Braintree Settings",
    "Paytm Settings",
    "Stripe Settings",
    "LDAP Group Mapping",
    "Translation",
    "Driver",
    "Driving License Category",
    "Product Bundle Item",
    "Web Page Block",
    "BOM Update Log",
    "Access Log",
    "Logs To Clear",
    "Log Settings",
    "User Type",
    "BOM Update Batch",
    "CRM Note",
    "User Email",
    "Workspace Quick List",
    "Stock Reconciliation",
    "Prospect Lead",
    "Prospect Opportunity",
    "Website Filter Field",
    "Call Log",
    "Variant Field",
    "POS Invoice Reference",
    "Opening Invoice Creation Tool Item",
    "Property Setter",
    "Telephony Call Type",
    "Workflow Action Permitted Role",
    "Timesheet Detail",
    "Opportunity Lost Reason",
    "Employee Group Table",
    "Cost Center Allocation Percentage",
    "Cost Center Allocation",
    "Tax Category",
    "Document Share Key",
    "Tax Withholding Rate",
    "Connected App",
    "Opening Invoice Creation Tool",
    "User Permission",
    "Personal Data Deletion Request",
    "DocType State",
    "Kanban Board Column",
    "Ledger Merge",
    "Ledger Merge Accounts",
    "Newsletter Email Group",
    "Newsletter Attachment",
    "Module Profile",
    "Role Profile",
    "Email Flag Queue",
    "Advance Taxes and Charges",
    "Advance Tax",
    "Operation",
    "Energy Point Settings",
    "Dunning Type",
    "Supplier Scorecard Criteria",
    "Sales Team",
    "Currency Exchange Settings Details",
    "Currency Exchange Settings Result",
    "Competitor Detail",
    "Print Format Field Template",
    "UOM",
    "Support Settings",
    "Sales Invoice Timesheet",
    "Fiscal Year Company",
    "Discussion Topic",
    "Discussion Reply",
    "Overdue Payment",
    "SMS Settings",
    "IMAP Folder",
    "Maintenance Schedule Detail",
    "Job Card Scrap Item",
    "Asset Capitalization Asset Item",
    "Package Import",
    "Package Release",
    "Package",
    "Party Link",
    "Item Quality Inspection Parameter",
    "DocType Link",
    "Tax Withholding Category",
    "Assignment Rule",
    "Sub Operation",
    "South Africa VAT Settings",
    "South Africa VAT Account",
    "Campaign",
    "Service Level Priority",
    "Purchase Receipt Item Supplied",
    "Purchase Order Item Supplied",
    "Tax Rule",
    "Item Tax",
    "SLA Fulfilled On Status",
    "POS Closing Entry Detail",
    "DocType Layout Field",
    "Slack Webhook URL",
    "Supplier Item",
    "Supplier Group Item",
    "Campaign Item",
    "Sales Partner Item",
    "Territory Item",
    "Customer Group Item",
    "Promotional Scheme",
    "Customer Item",
    "OAuth Authorization Code",
    "Import Supplier Invoice",
    "Personal Data Deletion Step",
    "Job Card Item",
    "POS Search Fields",
    "POS Settings",
    "User Group Member",
    "Job Card Operation",
    "Plaid Settings",
    "Project Template Task",
    "Payment Terms Template Detail",
    "Quality Inspection Parameter",
    "Website Attribute",
    "Payment Term",
    "Subscription Invoice",
    "Accounting Dimension",
    "Quality Inspection Reading",
    "Quality Inspection Parameter Group",
    "Landed Cost Item",
    "Landed Cost Voucher",
    "User Type Module",
    "Asset Maintenance Team",
    "User Select Document Type",
    "Workspace Chart",
    "UAE VAT Settings",
    "Voice Call Settings",
    "Contract Template",
    "Shipment Delivery Note",
    "Allowed Dimension",
    "Applicable On Account",
    "Incoming Call Settings",
    "Incoming Call Handling Schedule",
    "Query Parameters",
    "Auto Repeat Day",
    "Request for Quotation Supplier",
    "Quality Feedback Parameter",
    "Communication Medium",
    "Quality Feedback Template",
    "Quality Procedure Process",
    "Web Template Field",
    "Production Plan Material Request Warehouse",
    "Quality Action Resolution",
    "POS Payment Method",
    "About Us Settings",
    "Log Setting User",
    "Assignment Rule User",
    "Shipment Parcel Template",
    "UAE VAT Account",
    "DocType Action",
    "Website Theme Ignore App",
    "Payment Gateway Account",
    "Mode of Payment",
    "Domain",
    "Dependent Task",
    "Website Slideshow Item",
    "Document Naming Rule Condition",
    "Video",
    "Video Settings",
    "Payment Order Reference",
    "Process Deferred Accounting",
    "Report Column",
    "Notification Recipient",
    "Email Digest",
    "Email Digest Recipient",
    "Portal Settings",
    "PSOA Project",
    "Quotation Lost Reason Detail",
    "Opportunity Lost Reason Detail",
    "Bank",
    "OAuth Scope",
    "Email Campaign",
    "Dunning Letter Text",
    "Service Day",
    "Dashboard Chart Source",
    "Customs Tariff Number",
    "Subscription Settings",
    "Subscription Plan Detail",
    "Pause SLA On Status",
    "POS Opening Entry Detail",
    "POS Opening Entry",
    "POS Closing Entry Taxes",
    "Asset Maintenance",
    "Downtime Entry",
    "POS Profile User",
    "Installed Application",
    "Installed Applications",
    "Social Link Settings",
    "Journal Entry Template",
    "Onboarding Permission",
    "Onboarding Step Map",
    "Quality Inspection Template",
    "Project Template",
    "Journal Entry Template Account",
    "Number Card Link",
    "Color",
    "Holiday",
    "Bank Account Type",
    "Item Manufacturer",
    "Contact Phone",
    "Payment Order",
    "Dashboard Chart Link",
    "Dashboard Chart Field",
    "Chart of Accounts Importer",
    "Discounted Invoice",
    "Project User",
    "Loyalty Point Entry",
    "Bank Transaction Payments",
    "Share Transfer",
    "Website Route Meta",
    "Appointment Booking Slots",
    "Energy Point Rule",
    "Coupon Code",
    "Sales Partner",
    "Dynamic Link",
    "Global Search Settings",
    "Notification Subscribed Document",
    "Asset Movement Item",
    "Quick Stock Balance",
    "Tag",
    "Contact Email",
    "Assignment Rule Day",
    "Global Search DocType",
    "Availability Of Slots",
    "POS Field",
    "Accounting Dimension Detail",
    "Accounting Period",
    "Session Default",
    "Session Default Settings",
    "Campaign Email Schedule",
    "Manufacturer",
    "Issue Type",
    "Communication Medium Timeslot",
    "Invoice Discounting",
    "Warehouse Type",
    "Quality Meeting Minutes",
    "Quality Feedback Template Parameter",
    "Quality Meeting Agenda",
    "Loyalty Program",
    "Shipping Rule",
    "Communication Link",
    "Issue Priority",
    "Personal Data Download Request",
    "Pricing Rule Item Code",
    "Pricing Rule Brand",
    "Pricing Rule Item Group",
    "Target Detail",
    "Pricing Rule Detail",
    "Homepage Section",
    "Cashier Closing Payments",
    "Homepage Section Card",
    "Activity Cost",
    "Supplier Scorecard Period",
    "Supplier Scorecard Scoring Criteria",
    "Supplier Scorecard Scoring Variable",
    "Supplier Scorecard Variable",
    "Supplier Scorecard",
    "Supplier Scorecard Standing",
    "Supplier Scorecard Scoring Standing",
    "Bank Clearance Detail",
    "Lost Reason Detail",
    "Employee Group",
    "Item Tax Template Detail",
    "Bank Account Subtype",
    "Bank Transaction Mapping",
    "Market Segment",
    "Delivery Settings",
    "Bank Guarantee",
    "UOM Conversion Factor",
    "SMS Log",
    "Routing",
    "Share Type",
    "BOM Update Tool",
    "Linked Location",
    "Support Search Source",
    "Item Alternative",
    "Maintenance Team Member",
    "Currency Exchange",
    "Asset Category Account",
    "Finance Book",
    "UOM Category",
    "Party Type",
    "Contract Fulfilment Checklist",
    "Contract Template Fulfilment Terms",
    "Closed Document",
    "Loyalty Point Entry Redemption",
    "Item Customer Detail",
    "Mode of Payment Account",
    "Item Variant Settings",
    "Loyalty Program Collection",
    "Share Balance",
    "Opportunity Type",
    "SMS Center",
    "Production Plan Material Request",
    "Production Plan Sales Order",
    "Project Type",
    "Activity Type",
    "BOM Website Operation",
    "BOM Website Item",
    "POS Item Group",
    "POS Customer Group",
    "Branch",
    "Website Item Group",
    "UOM Conversion Detail",
    "Shipping Rule Country",
    "Shipping Rule Condition",
    "Price List Country",
    "Monthly Distribution Percentage",
    "Item Website Specification",
    "Item Variant",
    "Item Attribute Value",
    "Employee Internal Work History",
    "Employee External Work History",
    "Employee Education",
    "Cheque Print Template",
    "Rename Tool",
    "Authorization Control",
}


# Define required fields for each config/document type
REQUIRED_FIELDS = {
    "doctype": ["doctype", "name"],
    "report": ["doctype", "name", "ref_doctype", "report_type"],
    "workflow": ["doctype", "name", "workflow_name", "document_type", "states", "transitions"],
    "dashboard_chart": ["doctype", "name", "chart_name", "chart_type", "document_type"],
    "list_dashboard": ["doctype", "name"],
    "notification": ["doctype", "name"],
    "workspace": ["doctype", "name", "label"],
    "module_def": ["doctype", "name"],
    "number_card": ["doctype", "name"],
    "custom_script": ["doctype", "name"],
    "web_form": ["doctype", "name"],
    "print_format": ["doctype", "name"],
    # Add more config/document types as needed
}


def get_doc_category_and_type(file_path):
    """Infer parent category and type for validation."""
    path_parts = file_path.split(os.sep)
    for category in REQUIRED_FIELDS:
        if category in path_parts:
            return category
    return None


def validate_fields(data, required_fields, file_path):
    """Check all required fields present in the loaded JSON data."""
    missing = [field for field in required_fields if field not in data]
    return [f"‚ùå {file_path}: Missing required field(s): {missing}"] if missing else []


def validate_by_category(category, data, file_path):
    """Category/type-specific validation logic."""
    errors = validate_fields(data, REQUIRED_FIELDS[category], file_path)
    # Additional custom validation for DocType
    if category == "doctype":
        if data.get("doctype") == "DocType":
            name = data.get("name")
            if name and name not in VALID_DOCTYPES_SET:
                errors.append(f"‚ùå {file_path}: Unregistered DocType '{name}'")
    # Additional logic for reports, workflows, etc. can be added here.
    return errors


def scan_all_jsons(app_root_path):
    errors = []
    found = False
    for dirpath, _, filenames in os.walk(app_root_path):
        for fname in filenames:
            if fname.endswith(".json"):
                file_path = os.path.join(dirpath, fname)
                found = True
                try:
                    with open(file_path, "r", encoding="utf-8") as f:
                        data = json.load(f)
                    category = get_doc_category_and_type(file_path)
                    if category:
                        errs = validate_by_category(category, data, file_path)
                        errors.extend(errs)
                except json.JSONDecodeError:
                    errors.append(f"üö´ Invalid JSON format in: {file_path}")
                except Exception as e:
                    errors.append(f"‚ö†Ô∏è Error processing {file_path}: {str(e)}")
    if not found:
        print(f"‚ö†Ô∏è No JSON files found under {app_root_path}")
        return 1
    if errors:
        print("\n".join(errors))
        print(f"\n‚ùå Validation failed: {len(errors)} errors found.")
        return 1
    else:
        print("‚úÖ All JSON files are compliant with required fields for their DocType/Config type.")
        return 0


if __name__ == "__main__":
    APP_ROOT_PATH = "/opt/frappe/erp-bench/apps/repair_portal/repair_portal"
    sys.exit(scan_all_jsons(APP_ROOT_PATH))
